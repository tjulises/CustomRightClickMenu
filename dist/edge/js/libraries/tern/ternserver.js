(function(a,b){b(a.tern||(a.tern={}),a.tern,a.tern.signal,a.acorn,a.acorn.walk)})(window,function(a,b,c,d,e){"use strict";function f(a,b){this.name=a,this.parent=b,this.scope=this.text=this.ast=this.lineOffsets=null}function g(a,c){var d={directSourceFile:c,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,ecmaVersion:a.options.ecmaVersion,allowHashBang:!0},e=a.signalReturnFirst("preParse",c.text,d)||c.text,f=b.parse(e,d);return a.signal("postParse",f,e),f}function h(a,c,d){a.text=d.options.stripCRs?c.replace(/\r\n/g,"\n"):c,a.hasAstral=U.test(a.text),b.withContext(d.cx,function(){a.ast=g(d,a)}),a.lineOffsets=null}function i(a,d,f){if(d.query&&!T.hasOwnProperty(d.query.type))return f("No query type '"+d.query.type+"' defined");var c=d.query;c||f(null,{});var e=d.files||[];e.length&&++a.uses;for(var g,h=0;h<e.length;++h)g=e[h],g.name=a.normalizeFilename(g.name),"delete"==g.type?a.delFile(g.name):j(a,g.name,null,"full"==g.type?g.text:null);var i="number"==typeof d.timeout?[d.timeout]:null;if(!c)return void m(a,i,function(){});var k=T[c.type];if(k.takesFile){if("string"!=typeof c.file)return f(".query.file must be a string");/^#/.test(c.file)||j(a,c.file,null)}m(a,i,function(d){if(d)return f(d);var g=k.takesFile&&r(a,e,c.file);return k.fullFile&&"part"==g.type?f("Can't run a "+c.type+" query on a file fragment"):void(b.resetGuessing(),b.withContext(a.cx,function(){var d,e=function(){d=k.run(a,c,g)};try{i?b.withTimeout(i[0],e):e()}catch(b){return a.options.debug&&"TernError"!=b.name&&console.error(b.stack),f(b)}f(null,d)}))})}function k(a,c){return b.withContext(a.cx,function(){c.scope=a.cx.topScope,a.signal("beforeLoad",c),b.analyze(c.ast,c.name,c.scope),a.signal("afterLoad",c)}),c}function j(a,c,d,e){var g=a.findFile(c);if(g)return null!=e&&(g.scope&&(a.needsPurge.push(c),b.clearScopes(g.ast),g.scope=null),h(g,e,a)),void(t(a,g.parent)>t(a,d)&&(g.parent=d,g.excluded&&(g.excluded=null)));var i=new f(c,d);a.files.push(i),a.fileMap[c]=i,null==e?a.options.async?(a.startAsyncAction(),a.options.getFile(c,function(b,c){h(i,c||"",a),a.finishAsyncAction(b)})):h(i,a.options.getFile(c)||"",a):h(i,e,a)}function l(a,b,d){var c=function c(){a.off("everythingFetched",c),clearTimeout(e),m(a,b,d)};a.on("everythingFetched",c);var e=setTimeout(c,a.options.fetchTimeout)}function m(d,a,f){if(d.pending)return l(d,a,f);var c=d.fetchError;if(c)return d.fetchError=null,f(c);0<d.needsPurge.length&&b.withContext(d.cx,function(){b.purge(d.needsPurge),d.needsPurge.length=0});for(var e,g=!0,h=0;h<d.files.length;){for(e=[];h<d.files.length;++h){var i=d.files[h];null==i.text?g=!1:null==i.scope&&!i.excluded&&e.push(i)}e.sort(function(c,a){return t(d,c.parent)-t(d,a.parent)});for(var i,m=0;m<e.length;m++)if(i=e[m],i.parent&&!v(d,i))i.excluded=!0;else if(a){var j=+new Date;try{b.withTimeout(a[0],function(){k(d,i)})}catch(a){if(a instanceof b.TimedOut)return f(a);throw a}a[0]-=+new Date-j}else k(d,i)}g?f():l(d,a,f)}function n(a){var b=a.indexOf("\n");return 0>b?a:a.slice(0,b)}function o(a,b,c){var d=Math.abs,e=Q(0,c-500),f=null;if(!/^\s*$/.test(a))for(;;){var g=b.indexOf(a,e);if(0>g||g>c+500)break;(null==f||d(f-c)>d(g-c))&&(f=g),e=g+a.length}return f}function p(a){for(var b=0;a;++b,a=a.prev);return b}function q(a){var b=new Error(a);return b.name="TernError",b}function r(a,c,d){var f=d.match(/^#(\d+)$/);if(!f)return a.findFile(d);var h=c[f[1]];if(!h||"delete"==h.type)throw q("Reference to unknown file "+d);if("full"==h.type)return a.fileMap[h.name];var j,k,l=h.backing=a.fileMap[h.name],i=X(l,null==h.offsetLines?h.offset:{line:h.offsetLines,ch:0},!0),r=n(h.text),s=o(r,l.text,i),t=null==s?Q(0,l.text.lastIndexOf("\n",i)):s;return b.withContext(a.cx,function(){b.purge(h.name,t,t+h.text.length);var c,d=h.text;if(c=d.match(/(?:"([^"]*)"|([\w$]+))\s*:\s*function\b/)){var f=e.findNodeAround(h.backing.ast,t,"ObjectExpression");f&&f.node.objType&&(j={type:f.node.objType,prop:c[2]||c[1]})}if(s&&(c=r.match(/^(.*?)\bfunction\b/))){for(var m=c[1].length,n="",o=0;o<m;++o)n+=" ";h.text=n+d.slice(m),k=!0}var i=b.scopeAt(l.ast,t,l.scope),q=b.scopeAt(l.ast,t+d.length,l.scope),u=h.scope=p(i)<p(q)?q:i;h.ast=g(a,h),b.analyze(h.ast,h.name,u);tieTogether:if(j||k){var v=b.scopeAt(h.ast,r.length,i);if(!v.fnType)break tieTogether;if(j){var w=j.type.getProp(j.prop);w.addType(v.fnType)}else if(k){var x=b.scopeAt(l.ast,t+r.length,l.scope);if(x==i||!x.fnType)break tieTogether;var y=x.fnType,z=v.fnType;if(!z||z.name!=y.name&&y.name)break tieTogether;for(var o=0,A=P(y.args.length,z.args.length);o<A;++o)y.args[o].propagate(z.args[o]);y.self.propagate(z.self),z.retval.propagate(y.retval)}}}),h}function s(a){var b=0;return e.simple(a,{Expression:function(){++b}}),b}function t(a,b){for(var c=0;b;)b=a.fileMap[b].parent,++c;return c}function u(a,b){for(;;){var c=a.fileMap[b.parent];if(!c.parent)break;b=c}return b.name}function v(a,b){var c=u(a,b),d=s(b.ast),e=a.budgets[c];return(null==e&&(e=a.budgets[c]=a.options.dependencyBudget),!(e<d))&&(a.budgets[c]=e-d,!0)}function w(a){return"number"==typeof a||"object"==("undefined"===typeof a?"undefined":babelHelpers["typeof"](a))&&"number"==typeof a.line&&"number"==typeof a.ch}function x(a){if(a.query){if("string"!=typeof a.query.type)return".query.type must be a string";if(a.query.start&&!w(a.query.start))return".query.start must be a position";if(a.query.end&&!w(a.query.end))return".query.end must be a position"}if(a.files){if(!Array.isArray(a.files))return"Files property must be an array";for(var b,c=0;c<a.files.length;++c){if(b=a.files[c],"object"!=("undefined"===typeof b?"undefined":babelHelpers["typeof"](b)))return".files[n] must be objects";if("string"!=typeof b.name)return".files[n].name must be a string";if("delete"==b.type)continue;else{if("string"!=typeof b.text)return".files[n].text must be a string";if("part"==b.type){if(!w(b.offset)&&"number"!=typeof b.offsetLines)return".files[n].offset must be a position";}else if("full"!=b.type)return".files[n].type must be \"full\" or \"part\""}}}}function y(a,b,c){var d,e=b+c;if(a.hasAstral)for(U.lastIndex=b;(d=U.exec(a.text))&&d.index<e;)e++;return e}function z(a,b){for(var c=a.text,d=a.lineOffsets||(a.lineOffsets=[0]),e=0,f=0,g=P(Math.floor(b/W),d.length-1),e=d[g],f=g*W;f<b;){if(++f,e=c.indexOf("\n",e)+1,0===e)return null;0===f%W&&d.push(e)}return e}function A(a,b,c){var d,e=c-b;if(a.hasAstral)for(U.lastIndex=b;(d=U.exec(a.text))&&d.index<c;)e--;return e}function B(a,b){if(!a)return{line:0,ch:0};for(var c,d,e=a.lineOffsets||(a.lineOffsets=[0]),f=a.text,g=e.length-1;0<=g;--g)e[g]<=b&&(c=g*W,d=e[g]);for(;;){var h=f.indexOf("\n",d);if(h>=b||0>h)break;d=h+1,++c}return{line:c,ch:A(a,d,b)}}function C(a){for(var b in a)null==a[b]&&delete a[b];return a}function D(a,b,c){null!=c&&(a[b]=c)}function E(c,d){"string"!=typeof c&&(c=c.name,d=d.name);var b=/^[A-Z]/.test(c),e=/^[A-Z]/.test(d);return b==e?c<d?-1:c==d?0:1:b?1:-1}function F(a,b,c){return"Literal"==a.type&&"string"==typeof a.value&&a.start==b-1&&a.end<=c+1}function G(a,b){for(var c,d=0;d<a.properties.length;d++)if(c=a.properties[d],c.key.start<=b&&c.key.end>=b)return c}function H(a,b){var c,d,e=a.body;return!!e&&(Array.isArray(e)?(c=e[0].start,d=e[e.length-1].end):(c=e.start,d=e.end),c<=b&&d>=b)}function I(a,b,c){var d=aa(a,b,c);if(d)return d;throw q("No expression at the given position.")}function J(a){return a&&(a=a.getType())&&a instanceof b.Obj?a:null}function K(a,c,d,e){var f;e&&(b.resetGuessing(),f=b.expressionType(e));var g=a.hasHandler("typeAt");if(g)for(var h=X(d,c.end),j=0;j<g.length;j++)f=g[j](d,h,e,f);if(!f)throw q("No type found at the given position.");var i;if("ObjectExpression"==e.node.type&&null!=c.end&&(i=G(e.node,X(d,c.end)))){var k=i.key.name,l=J(b.typeFromContext(d.ast,e));if(l&&l.hasProp(k))f=l.hasProp(k);else{var m=J(f);m&&m.hasProp(k)&&(f=m.hasProp(k))}}return f}function L(a,b){if(!b)return null;if("full"==a.docFormat)return b;var c=/.\n[\s@\n]/.exec(b);if(c&&(b=b.slice(0,c.index+1)),b=b.replace(/\n\s*/g," "),100>b.length)return b;var d=/[\.!?] [A-Z]/g;d.lastIndex=80;var e=d.exec(b);return e&&(b=b.slice(0,e.index+1)),b}function M(a,c,d){d.url||(d.url=c.url),d.doc||(d.doc=L(a,c.doc)),d.origin||(d.origin=c.origin);var e,f=b.cx().protos;!d.url&&!d.doc&&c.proto&&(e=c.proto.hasCtor)&&c.proto!=f.Object&&c.proto!=f.Function&&c.proto!=f.Array&&(d.url=e.url,d.doc=L(a,e.doc))}function N(a,c,d,e,f){function g(a){return function(b,d,e){var g={file:a.name,start:Y(c,a,b.start),end:Y(c,a,b.end)};if(f){for(var i,k=d;k!=j;k=k.prev)if(i=k.hasProp(f),i)throw q("Renaming `"+h+"` to `"+f+"` would make a variable at line "+(B(a,b.start).line+1)+" point to the definition at line "+(B(a,i.name.start).line+1));var m=e[e.length-2];m&&"Property"==m.type&&m.key==m.value&&(g.isShorthand=!0)}l.push(g)}}for(var h=e.node.name,j=e.state;j&&!(h in j.props);j=j.prev);if(!j)throw q("Could not find a definition for "+h);var k,l=[];if(j.originNode){if(k="local",f){for(var m=j.prev;m&&!(f in m.props);m=m.prev);m&&b.findRefs(j.originNode,j,f,m,function(a){throw q("Renaming `"+h+"` to `"+f+"` would shadow the definition used at line "+(B(d,a.start).line+1))})}b.findRefs(j.originNode,j,h,j,g(d))}else if(k="global",c.onlySourceFile)b.findRefs(d.ast,d.scope,h,j,g(d));else for(var n,o=0;o<a.files.length;++o)n=a.files[o],b.findRefs(n.ast,n.scope,h,j,g(n));return{refs:l,type:k,name:h}}function O(a,c,d,e,f){function g(a){return function(b){k.push({file:a.name,start:Y(c,a,b.start),end:Y(c,a,b.end)})}}var h=b.expressionType(e);"MethodDefinition"==e.node.type&&(h=h.propertyOf);var j=h.getObjType();if(!j)throw q("Couldn't determine type of base object.");var k=[];if(c.onlySourceFile)b.findPropRefs(d.ast,d.scope,j,f.name,g(d));else for(var l,m=0;m<a.files.length;++m)l=a.files[m],b.findPropRefs(l.ast,l.scope,j,f.name,g(l));return{refs:k,name:f.name}}var P=Math.min,Q=Math.max,R=Object.create(null);a.registerPlugin=function(a,b){R[a]=b};var S=a.defaultOptions={debug:!1,async:!1,getFile:function(a,b){this.async&&b(null,null)},normalizeFilename:function(a){return a},defs:[],plugins:{},fetchTimeout:1e3,dependencyBudget:2e4,reuseInstances:!0,stripCRs:!1,ecmaVersion:6,projectDir:"/",parent:null},T={completions:{takesFile:!0,run:function(a,c,e){function f(b,d,e,f){if((!t&&!1===c.omitObjectPrototype||d!=a.cx.protos.Object||l)&&!(!1!==c.filter&&l&&0!==(c.caseInsensitive?b.toLowerCase():b).indexOf(l))&&!(k&&k.props[b])){var g=_(c,m,b,d&&d.props[b],e);f&&g&&"string"!=typeof g&&f(g)}}if(null==c.end)throw q("missing .query.end field");var g=a.signalReturnFirst("completion",e,c);if(g)return g;for(var h=X(e,c.end),i=h,j=e.text;h&&d.isIdentifierChar(j.charCodeAt(h-1));)--h;if(!1!==c.expandWordForward)for(;i<j.length&&d.isIdentifierChar(j.charCodeAt(i));)++i;var k,l=j.slice(h,i),m=[];c.caseInsensitive&&(l=l.toLowerCase());var n,r,o,p,s,t,u=b.findExpressionAround(e.ast,null,h,e.scope);if(u){var v=u.node;if(!1===c.inLiteral&&"Literal"===v.type&&("string"===typeof v.value||v.regex))return{start:Y(c,e,h),end:Y(c,e,i),completions:[]};if("MemberExpression"==v.type&&v.object.end<h)s=u;else if(F(v,h,i)){var w=b.parentNode(v,e.ast);"MemberExpression"==w.type&&w.property==v&&(s={node:w,state:u.state})}else if("ObjectExpression"==v.type){var x=G(v,i);x?(t=u,r=p=x.key.name):!l&&!/:\s*$/.test(e.text.slice(0,h))&&(t=u,r=p=!0)}}if(t)o=b.typeFromContext(e.ast,t),k=t.node.objType;else if(s)r=s.node.property,r="Literal"==r.type?r.value.slice(1):r.name,s.node=s.node.object,o=b.expressionType(s);else if("."==j.charAt(h-1)){for(var y=h-1;y&&("."==j.charAt(y-1)||d.isIdentifierChar(j.charCodeAt(y-1)));)y--;var z=j.slice(y,h-1);z&&(o=b.def.parsePath(z,e.scope).getObjType(),r=l)}if(null!=r){if(a.cx.completingProperty=r,o&&b.forAllPropertiesOf(o,f),!m.length&&!1!==c.guess&&o&&o.guessProperties&&o.guessProperties(function(a,b,c){a!=r&&"\u2716"!=a&&"<i>"!=a&&f(a,b,c)}),!m.length&&2<=l.length&&!1!==c.guess)for(var r in a.cx.props)f(r,a.cx.props[r][0],0);n="memberCompletion"}else b.forAllLocalsAt(e.ast,h,e.scope,f),c.includeKeywords&&(6<=a.options.ecmaVersion?$:Z).forEach(function(a){f(a,null,0,function(a){a.isKeyword=!0})}),n="variableCompletion";return a.signal(n,e,h,i,f),!1!==c.sort&&m.sort(E),a.cx.completingProperty=null,{start:Y(c,e,h),end:Y(c,e,i),isProperty:!!r,isObjectKey:!!p,completions:m}}},properties:{run:function(a,b){var c=b.prefix,d=[];for(var e in a.cx.props)"<i>"==e||c&&0!==e.indexOf(c)||d.push(e);return!1!==b.sort&&d.sort(E),{completions:d}}},type:{takesFile:!0,run:function(a,c,d){var e,f=aa(d,c),g=K(a,c,d,f),h=g;if(g=c.preferFunction?g.getFunctionType()||g.getType():g.getType(),f&&("Identifier"==f.node.type?e=f.node.name:"MemberExpression"!=f.node.type||f.node.computed?"MethodDefinition"==f.node.type&&!f.node.computed&&(e=f.node.key.name):e=f.node.property.name),null!=c.depth&&"number"!=typeof c.depth)throw q(".query.depth must be a number");var i={guess:b.didGuess(),type:b.toString(h,c.depth),name:g&&g.name,exprName:e,doc:h.doc,url:h.url};return g&&M(c,g,i),C(i)}},documentation:{takesFile:!0,run:function(a,c,d){var e=aa(d,c),f=K(a,c,d,e),g={url:f.url,doc:L(c,f.doc),type:b.toString(f)},h=f.getType();return h&&M(c,h,g),C(g)}},definition:{takesFile:!0,run:function(a,c,d){var e=aa(d,c),f=K(a,c,d,e);if(b.didGuess())return{};var g=ba(f),h={url:f.url,doc:L(c,f.doc),origin:f.origin};if(f.types)for(var j,k=f.types.length-1;0<=k;--k)j=f.types[k],M(c,j,h),g||(g=ba(j));if(g&&g.node){var i=g.node.sourceFile||a.fileMap[g.origin],l=Y(c,i,g.node.start),m=Y(c,i,g.node.end);h.start=l,h.end=m,h.file=g.origin;var n=Q(0,g.node.start-50);h.contextOffset=g.node.start-n,h.context=i.text.slice(n,n+50)}else g&&(h.file=g.origin,ca(a,c,g,h));return C(h)}},refs:{takesFile:!0,fullFile:!0,run:function(a,b,c){var d=I(c,b,!0);if(d&&"Identifier"==d.node.type)return N(a,b,c,d);if(d&&"MemberExpression"==d.node.type&&!d.node.computed){var e=d.node.property;return d.node=d.node.object,O(a,b,c,d,e)}if(d&&"ObjectExpression"==d.node.type){for(var f,g=X(c,b.end),h=0;h<d.node.properties.length;++h)if(f=d.node.properties[h].key,f.start<=g&&f.end>=g)return O(a,b,c,d,f);}else if(d&&"MethodDefinition"==d.node.type){var e=d.node.key;return O(a,b,c,d,e)}throw q("Not at a variable or property name.")}},rename:{takesFile:!0,fullFile:!0,run:function(a,b,c){if("string"!=typeof b.newName)throw q(".query.newName should be a string");var d=I(c,b);if(!d||"Identifier"!=d.node.type)throw q("Not at a variable.");var e=N(a,b,c,d,b.newName),f=e.refs;delete e.refs,e.files=a.files.map(function(a){return a.name});for(var g,h=e.changes=[],j=0;j<f.length;++j)g=f[j],g.text=g.isShorthand?d.node.name+": "+b.newName:b.newName,h.push(g);return e}},files:{run:function(a){return{files:a.files.map(function(a){return a.name})}}}};a.defineQueryType=function(a,b){T[a]=b},f.prototype.asLineChar=function(a){return B(this,a)};var U=/[\uD800-\uDBFF]/g,V=a.Server=function(a){for(var b in this.cx=null,this.options=a||{},S)a.hasOwnProperty(b)||(a[b]=S[b]);for(var c in this.projectDir=a.projectDir.replace(/\\/g,"/"),/\/$/.test(this.projectDir)||(this.projectDir+="/"),this.parent=a.parent,this.handlers=Object.create(null),this.files=[],this.fileMap=Object.create(null),this.needsPurge=[],this.budgets=Object.create(null),this.uses=0,this.pending=0,this.asyncError=null,this.mod={},this.defs=a.defs.slice(0),this.plugins=Object.create(null),a.plugins)a.plugins.hasOwnProperty(c)&&this.loadPlugin(c,a.plugins[c]);this.reset()};V.prototype=c.mixin({addFile:function(a,b,c){c&&!(c in this.fileMap)&&(c=null),a in this.fileMap||(a=this.normalizeFilename(a)),j(this,a,c,b)},delFile:function(a){var b=this.findFile(a);if(b){this.needsPurge.push(b.name);for(var c=0;c<this.files.length;c++)this.files[c]==b?this.files.splice(c--,1):this.files[c].parent==a&&(this.files[c].parent=null);delete this.fileMap[b.name]}},reset:function(){this.signal("reset"),this.cx=new b.Context(this.defs,this),this.uses=0,this.budgets=Object.create(null);for(var a,c=0;c<this.files.length;++c)a=this.files[c],a.scope&&(b.clearScopes(a.ast),a.scope=null);this.signal("postReset")},request:function(a,b){var c=x(a);if(c)return b(c);var d=this;i(this,a,function(a,c){b(a,c),40<d.uses&&(d.reset(),m(d,null,function(){}))})},findFile:function(a){return this.fileMap[this.normalizeFilename(a)]},flush:function(a){var c=this.cx;m(this,null,function(d){return d?a(d):void b.withContext(c,a)})},startAsyncAction:function(){++this.pending},finishAsyncAction:function(a){a&&(this.asyncError=a),0===--this.pending&&this.signal("everythingFetched")},addDefs:function(a,b){b?this.defs.unshift(a):this.defs.push(a),this.cx&&this.reset()},deleteDefs:function(a){for(var b=0;b<this.defs.length;b++)if(this.defs[b]["!name"]==a)return this.defs.splice(b,1),void(this.cx&&this.reset())},loadPlugin:function(a,b){if(1==arguments.length&&(b=this.options.plugins[a]||!0),!(a in this.plugins)&&a in R&&b){this.plugins[a]=!0;var c=R[a](this,b);if(c&&(c.defs&&this.addDefs(c.defs,c.loadFirst),c.passes))for(var d in c.passes)c.passes.hasOwnProperty(d)&&this.on(d,c.passes[d])}},normalizeFilename:function(a){var b=this.options.normalizeFilename(a).replace(/\\/g,"/");return 0==b.indexOf(this.projectDir)&&(b=b.slice(this.projectDir.length)),b}});var W=25,X=a.resolvePos=function(a,b,c){if("number"!=typeof b){var d=z(a,b.line);if(!(null==d))b=y(a,d,b.ch);else if(c)b=a.text.length;else throw q("File doesn't contain a line "+b.line)}else b=y(a,0,b);if(b>a.text.length)if(c)b=a.text.length;else throw q("Position "+b+" is outside of file.");return b},Y=a.outputPos=function(a,b,c){if(a.lineCharPositions){var d=B(b,c);return"part"==b.type&&(d.line+=null==b.offsetLines?B(b.backing,b.offset).line:b.offsetLines),d}return A(b,0,c)+("part"==b.type?b.offset:0)},Z="break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try".split(" "),$=Z.concat(["export","class","extends","const","super","yield","import","let","static"]),_=a.addCompletion=function(a,d,e,f,g){for(var h,c=a.types||a.docs||a.urls||a.origins,j=c||a.depths,k=0;k<d.length;++k)if(h=d[k],(j?h.name:h)==e)return;var i=j?{name:e}:e;if(d.push(i),f&&c){b.resetGuessing();var l=f.getType();i.guess=b.didGuess(),a.types&&(i.type=b.toString(f)),a.docs&&D(i,"doc",L(a,f.doc||l&&l.doc)),a.urls&&D(i,"url",f.url||l&&l.url),a.origins&&D(i,"origin",f.origin||l&&l.origin)}return a.depths&&(i.depth=g||0),i},aa=a.findQueryExpr=function(a,c,d){if(null==c.end)throw q("missing .query.end field");if(c.variable){var e=b.scopeAt(a.ast,X(a,c.end),a.scope);return{node:{type:"Identifier",name:c.variable,start:c.end,end:c.end+1},state:e}}var f=c.start&&X(a,c.start),g=X(a,c.end),h=b.findExpressionAt(a.ast,f,g,a.scope);if(!h){var i=b.findExpressionAround(a.ast,f,g,a.scope);i&&!H(i.node,g)&&("ObjectExpression"==i.node.type||d||20>(null==f?g:f)-i.node.start||20>i.node.end-g)&&(h=i)}return h};var ba=a.getSpan=function(a){if(a.origin){if(a.originNode){var b=a.originNode;return /^Function/.test(b.type)&&b.id&&(b=b.id),{origin:a.origin,node:b}}return a.span?{origin:a.origin,span:a.span}:void 0}},ca=a.storeSpan=function(a,b,c,d){if(d.origin=c.origin,c.span){var e=/^(\d+)\[(\d+):(\d+)\]-(\d+)\[(\d+):(\d+)\]$/.exec(c.span);d.start=b.lineCharPositions?{line:+e[2],ch:+e[3]}:+e[1],d.end=b.lineCharPositions?{line:+e[5],ch:+e[6]}:+e[4]}else{var f=a.fileMap[c.origin];d.start=Y(b,f,c.node.start),d.end=Y(b,f,c.node.end)}};a.version="0.21.0"});