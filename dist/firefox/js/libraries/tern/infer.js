(function(a,b){b(a.tern||(a.tern={}),a.acorn,a.acorn,a.acorn.walk,a.tern.def,a.tern.signal)})(window,function(a,b,c,d,e,f){"use strict";function g(a,b){var c=Object.create(a);if(b)for(var d in b)c[d]=b[d];return c}function h(c,a,b){var d=c.getType(!1),e=a.getType(!1);return d&&e?i(d,e,b):!0}function i(c,d,e){if(!c||5<=e)return d;if(!c||c==d)return c;if(!d)return c;if(c.constructor!=d.constructor)return!1;if(c.constructor==ya){var f=c.getProp("<i>").getType(!1);if(!f)return d;var g=d.getProp("<i>").getType(!1);if(!g||i(f,g,e+1))return d}else{if(c.constructor==va){var j=0,k=0,l=0;for(var m in c.props)j++,m in d.props&&h(c.props[m],d.props[m],e+1)&&l++;for(var m in d.props)k++;return j&&k&&l<Math.max(j,k)/2?!1:j>k?c:d}return c.constructor==xa&&c.args.length==d.args.length&&c.args.every(function(a,b){return h(a,d.args[b],e+1)})&&h(c.retval,d.retval,e+1)&&h(c.self,d.self,e+1)&&c}}function j(a){for(var b,c=0,d=0,e=0,f=null,g=0;g<a.length;++g)if(b=a[g],b instanceof ya)++c;else if(b instanceof xa)++d;else if(b instanceof va)++e;else if(b instanceof ua){if(f&&b.name!=f.name)return null;f=b}var h=(c&&1)+(d&&1)+(e&&1)+(f&&1);if(1<h)return null;if(f)return f;for(var i=0,k=null,g=0;g<a.length;++g){var b=a[g],l=0;if(c)l=b.getProp("<i>").isEmpty()?1:2;else if(d){l=1;for(var m=0;m<b.args.length;++m)b.args[m].isEmpty()||++l;b.retval.isEmpty()||++l}else e&&(l=b.name?100:2);l>=i&&(i=l,k=b)}return k}function k(a,b){Aa.disabledComputing={fn:a,prev:Aa.disabledComputing};var c=b();return Aa.disabledComputing=Aa.disabledComputing.prev,c}function l(a){var b=a.charCodeAt(0);return 48<=b&&57>=b&&!/\D/.test(a)}function m(a){return"__proto__"==a||"\u2716"==a||wa&&"__iterator__"==a}function n(a,b){var c=Aa.props[a]||(Aa.props[a]=[]);c.push(b)}function o(a){return Aa.props[a]}function p(b){if(Aa.workList)return b(Aa.workList);for(var c=[],d=0,e=Aa.workList=function(a,b,e){d<Ca-Da*c.length&&c.push(a,b,e,d)},f=b(e),g=0;g<c.length;g+=4){if(Ba&&+new Date>=Ba)throw new a.TimedOut;d=c[g+3]+1,c[g+1].addType(c[g],c[g+2])}return Aa.workList=null,f}function q(a,b,c){var d=Aa.curSuperCtor,e=Aa.curSuper;Aa.curSuperCtor=a,Aa.curSuper=b;var f=c();return Aa.curSuperCtor=d,Aa.curSuper=e,f}function r(a,b){for(;a.isBlock||a.isCatch||!1===b&&a.fnType&&a.fnType.isArrowFn();)a=a.prev;return a}function s(a,b){var c=r(a).fnType;c&&(c.instantiateScore=(c.instantiateScore||0)+b)}function t(a,b){try{return d.simple(a,{Expression:function(){if(0>=--b)throw Fa}}),!0}catch(a){if(a==Fa)return!1;throw a}}function u(a,b){var c=b.instantiateScore;return!Aa.disabledComputing&&c&&b.args.length&&t(a,5*c)?(s(r(b.originNode.scope.prev),c/2),v(a,b),!0):void(b.instantiateScore=null)}function v(a,b){for(var c=a.scope,e=0;e<b.args.length;++e)b.args[e]=new ca;b.self=new ca,b.computeRet=function(e,f){return k(b,function(){var g=Aa.curOrigin;Aa.curOrigin=b.origin;var h=a.scope?a.scope:c,j=new Ea(h.prev,h.originNode);for(var k in h.props)for(var l=j.defProp(k,h.props[k].originNode),m=0;m<f.length;++m)b.argNames[m]==k&&m<f.length&&f[m].propagate(l);for(var i=b.argNames.length==f.length?b.argNames:b.argNames.slice(0,f.length);i.length<f.length;)i.push("?");if(j.fnType=new xa(b.name,e,f,i,Z,b.generator),j.fnType.originNode=b.originNode,b.arguments){var n=j.fnType.arguments=new ca;j.defProp("arguments").addType(new ya(n));for(var m=0;m<f.length;++m)f[m].propagate(n)}return a.scope=j,d.recursive(a.body,j,null,Ga),d.recursive(a.body,j,null,La),Aa.curOrigin=g,j.fnType.retval})}}function w(a){function b(a,d,e){if(!(3<e)&&a.forward)for(var f,g=0;g<a.forward.length;++g)if(f=a.forward[g].propagatesTo(),f){var h,i=d;if(f instanceof ca)h=f;else if(f.target instanceof ca)i+=f.pathExt,h=f.target;else continue;if(h==c)return i;var j=b(h,i,e+1);if(j)return j}}var c=a.retval;if(!(c==Z||a.isArrowFn())){var d,f;!c.isEmpty()&&(d=c.getType())instanceof ya&&(c=f=d.getProp("<i>"));for(var g=b(a.self,"!this",0),h=0;!g&&h<a.args.length;++h)g=b(a.args[h],"!"+h,0);if(g){f&&(g="["+g+"]");var i=new e.TypeParser(g),j=i.parseType(!0);return a.computeRet=j.apply?j:function(){return j},a.computeRetSource=g,!0}}}function x(a,b){return a.defProp(b.name,b)}function y(a){return"Identifier"==a.type?a.name:"AssignmentPattern"==a.type?y(a.left):"ObjectPattern"==a.type?"{"+a.properties.map(function(a){return y(a.value)}).join(", ")+"}":"ArrayPattern"==a.type?"["+a.elements.map(function(a){return a?y(a):""}).join(", ")+"]":"RestElement"==a.type?"..."+y(a.argument):"_"}function z(a){return"VariableDeclaration"==a.type&&"var"!=a.kind||"FunctionDeclaration"==a.type||"ClassDeclaration"==a.type}function A(a,b){return{inner:a,outer:b||a}}function B(a){a.scope&&(a.scope=null)}function C(a){var b=a.getSymbolType();if(b)return b.asPropName()}function D(a){return"+"===a||"-"===a||"~"===a?Aa.num:"!"===a?Aa.bool:"typeof"===a?Aa.str:"void"===a||"delete"===a?Z:void 0}function E(a){return"=="===a||"!="===a||"==="===a||"!=="===a||"<"===a||">"===a||">="===a||"<="===a||"in"===a||"instanceof"===a||void 0}function F(a){if(a.regex)return la(Aa.protos.RegExp);switch(babelHelpers["typeof"](a.value)){case"boolean":return Aa.bool;case"number":return Aa.num;case"string":return Aa.str;case"object":case"function":return a.value?la(Aa.protos.RegExp):Z;}}function G(c,a){if(c==a||a==Z)return c;if(c==Z)return a;var b=new ca;return c.propagate(b),a.propagate(b),b}function H(a,b){for(var c,d=0;d<a.params.length;d++)c=a.params[d],"Identifier"==c.type||J(c,b,a.scope.fnType.args[d])}function I(a,b){return b.hasProp(a.name)||Aa.topScope.defProp(a.name,a)}function J(a,b,c){var d=Ja[a.type];d&&d(a,b,c)}function K(a){var b=r(a);return b.fnType?b.fnType.self:b}function L(a){a.isEmpty()&&a.propertyOf&&(a.propertyOf.getProp(a.propertyName).addType(new va,aa),L(a.propertyOf))}function M(a,b,c){!c&&a.id&&(c=a.id.name);var d,e,f=Aa.protos.Object;if(a.superClass)if("Literal"==a.superClass.type&&null==a.superClass.value)f=null;else{var g,h=Q(a.superClass,b);d=h.getFunctionType(),d&&(g=d.getProp("prototype").getObjType())?f=g:(d=h,e=h.getProp("prototype"))}var j=new va(f,c&&c+".prototype");return e&&e.propagate(new ra(j)),q(d,e||f,function(){for(var d,e=a.body.body,f=0;f<e.length;f++)"constructor"==e[f].kind&&(d=e[f].value);var g=a.objType=d?Q(d,b):new xa(c,Z,[],null,Z);g.originNode=a.id||d||a;var h=la(j,g);g.self.addType(h),g.defProp("prototype",a).addType(j);for(var f=0;f<e.length;f++){var i,k=e[f];if("constructor"!=k.kind){var l=Ia(k,b);"<i>"==l||"set"==k.kind?i=Z:(i=(k["static"]?g:j).defProp(l,k.key),i.initializer=!0,"get"==k.kind&&(i=new ia(h,[],null,i))),Q(k.value,b,i);var m=i.getFunctionType();m&&m.self.addType(h)}}return g})}function N(a,b,c){var d=1<a.length&&6>a.length;if(d){for(var e,f,g=!0,h=0;h<a.length;h++)f=a[h],f?"Literal"!=f.type||e&&e!=babelHelpers["typeof"](f.value)?g=!1:e=babelHelpers["typeof"](f.value):d=!1;g&&(d=!1)}if(d){for(var i=[],h=0;h<a.length;++h)i.push(c(a[h],b));return new ya(i)}if(2>a.length)return new ya(a[0]&&c(a[0],b));for(var j=new ca,h=0;h<a.length;h++)a[h]&&c(a[h],b).propagate(j);return new ya(j)}function O(a){return function(b,c,d,e){var f=a(b,c,e);return d&&f.propagate(d),f}}function P(a){return function(b,c,d,e){return d||(d=new ca),a(b,c,d,e),d}}function Q(a,b,c,d){var e=Ka[a.type];return e?e(a,b,c,d):Z}function R(a){return"VariableDeclaration"==a.type?a.declarations[0].id:a}function S(a,b,c){var d=Array.isArray(a);return d&&1==a.length&&(a=a[0],d=!1),d?null==c?function(b){return-1<a.indexOf(b.origin)}:function(d,e){return e&&e.start>=b&&e.end<=c&&-1<a.indexOf(d.origin)}:null==c?function(b){return b.origin==a}:function(d,e){return e&&e.start>=b&&e.end<=c&&d.origin==a}}function T(a){Qa=!0;var b=o(a);if(b)for(var c,d=0;d<b.length;++d)if(c=b[d].getProp(a),!c.isEmpty())return c;return Z}function U(a,b){var c=new va(!0);c.defProp("done").addType(Aa.bool),b.propagate(c.defProp("value"));var d=new xa(null,Z,a?[a]:[],a?["?"]:[],c),e=new va(Aa.definitions.ecmascript&&Aa.definitions.ecmascript.generator_prototype||!0);return e.defProp("next").addType(d),e}function V(a,b){return a.generator?a.computeRet?U(a.yieldval,b):(!0===a.generator&&(a.generator=U(a.yieldval,b)),a.generator):b}function W(a,b,c){var d=X(a,c).getFunctionType();if(!d)return Z;var e=d.retval;if(d.computeRet){for(var f=0,g=[];f<b.length;++f)g.push(X(b[f],c));var h=Z;"MemberExpression"==a.type&&(h=X(a.object,c)),e=d.computeRet(h,g,b)}return V(d,e)}function X(a,b){var c=Na[a.type];return c?c(a,b):Z}var Y=a.toString=function(a,b,c){return!a||a==c||b&&-3>b?"?":a.toString(b,c)},Z=a.ANull=f.mixin({addType:function(){},propagate:function(){},getProp:function(){return Z},forAllProps:function(){},hasType:function(){return!1},isEmpty:function(){return!0},getFunctionType:function(){},getObjType:function(){},getSymbolType:function(){},getType:function(){},gatherProperties:function(){},propagatesTo:function(){},typeHint:function(){},propHint:function(){},toString:function(){return"?"}}),$=100,_=90,aa=1,ba=2,ca=a.AVal=function(){this.types=[],this.forward=null,this.maxWeight=0};ca.prototype=g(Z,{addType:function(a,b){if(b=b||$,this.maxWeight<b){if(this.maxWeight=b,1==this.types.length&&this.types[0]==a)return;this.types.length=0}else if(this.maxWeight>b||-1<this.types.indexOf(a))return;this.signal("addType",a),this.types.push(a);var c=this.forward;c&&p(function(d){for(var e=0;e<c.length;++e)d(a,c[e],b)})},propagate:function(a,b){if(!(a==Z||a instanceof ta&&this.forward&&2<this.forward.length)){b&&b!=$&&(a=new sa(a,b)),(this.forward||(this.forward=[])).push(a);var c=this.types;c.length&&p(function(d){for(var e=0;e<c.length;++e)d(c[e],a,b)})}},getProp:function(a){if(m(a))return Z;var b=(this.props||(this.props=Object.create(null)))[a];return b||(b=this.props[a]=new ca,this.propagate(new fa(a,b))),b},forAllProps:function(a){this.propagate(new ha(a))},hasType:function(a){return-1<this.types.indexOf(a)},isEmpty:function(){return 0===this.types.length},getFunctionType:function(){for(var a=this.types.length-1;0<=a;--a)if(this.types[a]instanceof xa)return this.types[a]},getObjType:function(){for(var a,b=null,c=this.types.length-1;0<=c;--c)if(a=this.types[c],a instanceof va){if(a.name)return a;b||(b=a)}return b},getSymbolType:function(){for(var a=this.types.length-1;0<=a;--a)if(this.types[a]instanceof za)return this.types[a]},getType:function(a){return 0===this.types.length&&!1!==a?this.makeupType():1===this.types.length?this.types[0]:j(this.types)},toString:function(a,b){if(0==this.types.length)return Y(this.makeupType(),a,b);if(1==this.types.length)return Y(this.types[0],a,b);var c=da(this.types);return 2<c.length?"?":c.map(function(c){return Y(c,a,b)}).join("|")},makeupPropType:function(a){var b=this.propertyName,c=a.proto&&a.proto.hasProp(b);if(c){var d=c.getType();if(d)return d}if("<i>"!=b){var e=a.hasProp("<i>");if(e)return e.getType()}else if(a.props["<i>"]!=this)for(var f in a.props){var g=a.props[f];if(!g.isEmpty())return g.getType()}},makeupType:function(){var a=this.propertyOf&&this.makeupPropType(this.propertyOf);if(a)return a;if(!this.forward)return null;for(var b,c=this.forward.length-1;0<=c;--c)if(b=this.forward[c].typeHint(),b&&!b.isEmpty())return Qa=!0,b;for(var d,e=Object.create(null),f=null,c=0;c<this.forward.length;++c)d=this.forward[c].propHint(),d&&"length"!=d&&"<i>"!=d&&"\u2716"!=d&&d!=Aa.completingProperty&&(e[d]=!0,f=d);if(!f)return null;var g=o(f);if(g){var h=[];search:for(var i,c=0;c<g.length;++c){for(var d in i=g[c],e)if(!i.hasProp(d))continue search;i.hasCtor&&(i=la(i)),h.push(i)}var k=j(h);if(k)return Qa=!0,k}},typeHint:function(){return this.types.length?this.getType():null},propagatesTo:function(){return this},gatherProperties:function(a,b){for(var c=0;c<this.types.length;++c)this.types[c].gatherProperties(a,b)},guessProperties:function(a){if(this.forward)for(var b,c=0;c<this.forward.length;++c)b=this.forward[c].propHint(),b&&a(b,null,0);var d=this.makeupType();d&&d.gatherProperties(a)}});var da=a.simplifyTypes=function(a){var b=[];outer:for(var c,d=0;d<a.length;++d){c=a[d];for(var e,f=0;f<b.length;f++)if(e=i(c,b[f],0),e){b[f]=e;continue outer}b.push(c)}return b},ea=a.constraint=function(a){var b=function(){this.origin=Aa.curOrigin,this.construct.apply(this,arguments)};for(var c in b.prototype=Object.create(Z),a)a.hasOwnProperty(c)&&(b.prototype[c]=a[c]);return b},fa=ea({construct:function(a,b){this.prop=a,this.target=b},addType:function(a,b){a.getProp&&a.getProp(this.prop).propagate(this.target,b)},propHint:function(){return this.prop},propagatesTo:function(){if("<i>"==this.prop||!/[^\w_]/.test(this.prop))return{target:this.target,pathExt:"."+this.prop}}}),ga=a.PropHasSubset=a.DefProp=ea({construct:function(a,b,c){this.prop=a,this.type=b,this.originNode=c},addType:function(a,b){if(a instanceof va){var c=a.defProp(this.prop,this.originNode);c.origin||(c.origin=this.origin),this.type.propagate(c,b)}},propHint:function(){return this.prop}}),ha=ea({construct:function(a){this.c=a},addType:function(a){a instanceof va&&a.forAllProps(this.c)}}),ia=a.IsCallee=ea({construct:function(a,b,c,d){this.self=a,this.args=b,this.argNodes=c,this.retval=d,this.disabled=Aa.disabledComputing},addType:function(a,b){if(a instanceof xa){for(var c=0;c<this.args.length;++c)c<a.args.length&&this.args[c].propagate(a.args[c],b),a.arguments&&this.args[c].propagate(a.arguments,b);a.isArrowFn()||this.self.propagate(a.self,this.self==Aa.topScope?90:b);var e=a.computeRet,f=a.retval;if(e)for(var g=this.disabled;g;g=g.prev)(g.fn==a||a.originNode&&g.fn.originNode==a.originNode)&&(e=null);if(e){var d=Aa.disabledComputing;Aa.disabledComputing=this.disabled,f=e(this.self,this.args,this.argNodes),Aa.disabledComputing=d}V(a,f).propagate(this.retval,b)}},typeHint:function(){for(var a=[],b=0;b<this.args.length;++b)a.push("?");return new xa(null,this.self,this.args,a,Z)},propagatesTo:function(){return{target:this.retval,pathExt:".!ret"}}}),ja=ea({construct:function(a,b,c,d){this.propName=a,this.args=b,this.argNodes=c,this.retval=d,this.disabled=Aa.disabledComputing},addType:function(a,b){var c=new ia(a,this.args,this.argNodes,this.retval);c.disabled=this.disabled,a.getProp(this.propName).propagate(c,b)},propHint:function(){return this.propName}}),ka=a.IsCtor=ea({construct:function(a,b){this.target=a,this.noReuse=b},addType:function(a,b){a instanceof xa&&(Aa.parent&&!Aa.parent.options.reuseInstances&&(this.noReuse=!0),a.getProp("prototype").propagate(new ma(!this.noReuse&&a,this.target),b))}}),la=a.getInstance=function(a,b){if(!1===b)return new va(a);b||(b=a.hasCtor),a.instances||(a.instances=[]);for(var c,d=0;d<a.instances.length;++d)if(c=a.instances[d],c.ctor==b)return c.instance;var e=new va(a,b&&b.name);return e.origin=a.origin,a.instances.push({ctor:b,instance:e}),e},ma=a.IsProto=ea({construct:function(a,b){this.ctor=a,this.target=b},addType:function(a){!(a instanceof va)||8<(this.count=(this.count||0)+1)||(a==Aa.protos.Array?this.target.addType(new ya):this.target.addType(la(a,this.ctor)))}}),na=ea({construct:function(a){this.fn=a},addType:function(a){if(a instanceof va&&!a.hasCtor){a.hasCtor=this.fn;var b=new qa(a,this.fn);b.addType(this.fn),a.forAllProps(function(a,c,d){d&&c.propagate(b)})}}}),oa=ea({construct:function(a,b){this.other=a,this.target=b},addType:function(a,b){a==Aa.str?this.target.addType(Aa.str,b):a==Aa.num&&this.other.hasType(Aa.num)&&this.target.addType(Aa.num,b)},typeHint:function(){return this.other}}),pa=a.IfObj=ea({construct:function(a){this.target=a},addType:function(a,b){a instanceof va&&this.target.addType(a,b)},propagatesTo:function(){return this.target}}),qa=ea({construct:function(a,b){this.obj=a,this.ctor=b},addType:function(a){a instanceof xa&&a.self&&a.self.addType(la(this.obj,this.ctor),4)}}),ra=ea({construct:function(a){this.obj=a},addType:function(a){a instanceof va&&this.obj.proto==Aa.protos.Object&&this.obj.replaceProto(a)}}),sa=ea({construct:function(a,b){this.inner=a,this.weight=b},addType:function(a,b){this.inner.addType(a,Math.min(b,this.weight))},propagatesTo:function(){return this.inner.propagatesTo()},typeHint:function(){return this.inner.typeHint()},propHint:function(){return this.inner.propHint()}}),ta=a.Type=function(){};ta.prototype=g(Z,{constructor:ta,propagate:function(a,b){a.addType(this,b)},hasType:function(a){return a==this},isEmpty:function(){return!1},typeHint:function(){return this},getType:function(){return this}});var ua=a.Prim=function(a,b){this.name=b,this.proto=a};ua.prototype=g(ta.prototype,{constructor:ua,toString:function(){return this.name},getProp:function(a){return this.proto.hasProp(a)||Z},gatherProperties:function(a,b){this.proto&&this.proto.gatherProperties(a,b)}});var va=a.Obj=function(a,b){if(this.props||(this.props=Object.create(null)),this.proto=!0===a?Aa.protos.Object:a,a&&a!=Aa.protos.Object&&!b&&a.name&&!(this instanceof xa)){var c=/^(.*)\.prototype$/.exec(this.proto.name);c&&(b=c[1])}this.name=b,this.maybeProps=null,this.origin=Aa.curOrigin};va.prototype=g(ta.prototype,{constructor:va,toString:function(a){if(null==a&&(a=0),0>=a&&this.name)return this.name;var b=[],c=!1;for(var d in this.props)if("<i>"!=d){if(5<b.length){c=!0;break}a?b.push(d+": "+Y(this.props[d],a-1,this)):b.push(d)}return b.sort(),c&&b.push("..."),"{"+b.join(", ")+"}"},hasProp:function(a,b){l(a)&&(a=this.normalizeIntegerProp(a));var c=this.props[a];if(!1!==b)for(var d=this.proto;d&&!c;d=d.proto)c=d.props[a];return c},defProp:function(a,b){var c=this.hasProp(a,!1);if(c)return b&&!c.originNode&&(c.originNode=b),c;if(m(a))return Z;l(a)&&(a=this.normalizeIntegerProp(a));var d=this.maybeProps&&this.maybeProps[a];return d?(delete this.maybeProps[a],this.maybeUnregProtoPropHandler()):(d=new ca,d.propertyOf=this,d.propertyName=a),this.props[a]=d,d.originNode=b,d.origin=Aa.curOrigin,this.broadcastProp(a,d,!0),d},getProp:function(a){var b=this.hasProp(a,!0)||this.maybeProps&&this.maybeProps[a];if(b)return b;if(m(a))return Z;l(a)&&(a=this.normalizeIntegerProp(a));var c=this.ensureMaybeProps()[a]=new ca;return c.propertyOf=this,c.propertyName=a,c},normalizeIntegerProp:function(){return"<i>"},broadcastProp:function(a,b,c){if(c&&(this.signal("addProp",a,b),!(this instanceof Ea)&&n(a,this)),this.onNewProp)for(var d,e=0;e<this.onNewProp.length;++e)d=this.onNewProp[e],d.onProtoProp?d.onProtoProp(a,b,c):d(a,b,c)},onProtoProp:function(a,b){var c=this.maybeProps&&this.maybeProps[a];c&&(delete this.maybeProps[a],this.maybeUnregProtoPropHandler(),this.proto.getProp(a).propagate(c)),this.broadcastProp(a,b,!1)},replaceProto:function(a){for(var b=a;b;b=b.proto)if(b==this)return;this.proto&&this.maybeProps&&this.proto.unregPropHandler(this),this.proto=a,this.maybeProps&&this.proto.forAllProps(this)},ensureMaybeProps:function(){return this.maybeProps||(this.proto&&this.proto.forAllProps(this),this.maybeProps=Object.create(null)),this.maybeProps},removeProp:function(a){var b=this.props[a];delete this.props[a],this.ensureMaybeProps()[a]=b,b.types.length=0},forAllProps:function(a){this.onNewProp||(this.onNewProp=[],this.proto&&this.proto.forAllProps(this)),this.onNewProp.push(a);for(var b=this;b;b=b.proto)for(var c in b.props)a.onProtoProp?a.onProtoProp(c,b.props[c],b==this):a(c,b.props[c],b==this)},maybeUnregProtoPropHandler:function(){if(this.maybeProps){for(var a in this.maybeProps)return;this.maybeProps=null}!this.proto||this.onNewProp&&this.onNewProp.length||this.proto.unregPropHandler(this)},unregPropHandler:function(a){for(var b=0;b<this.onNewProp.length;++b)if(this.onNewProp[b]==a){this.onNewProp.splice(b,1);break}this.maybeUnregProtoPropHandler()},gatherProperties:function(a,b){for(var c in this.props)"<i>"!=c&&":"!=c.charAt(0)&&a(c,this,b);this.proto&&this.proto.gatherProperties(a,b+1)},getObjType:function(){return this}});var wa="undefined"!=typeof StopIteration,xa=a.Fn=function(a,b,c,d,e,f){va.call(this,Aa.protos.Function,a),this.self=b,this.args=c,this.argNames=d,this.retval=e,this.generator=f};xa.prototype=g(va.prototype,{constructor:xa,toString:function(a){null==a&&(a=0);for(var b=this.generator?"fn*(":"fn(",c=0;c<this.args.length;++c){c&&(b+=", ");var d=this.argNames[c];d&&"?"!=d&&(b+=d+": "),b+=-3<a?Y(this.args[c],a-1,this):"?"}return b+=")",this.retval.isEmpty()||(b+=" -> "+(-3<a?Y(this.retval,a-1,this):"?")),b},getProp:function(a){if("prototype"==a){var b=this.hasProp(a,!1);if(!b){b=this.defProp(a);var c=new va(!0,this.name&&this.name+".prototype");c.origin=this.origin,b.addType(c,10)}return b}return va.prototype.getProp.call(this,a)},defProp:function(a,b){if("prototype"==a){var c=this.hasProp(a,!1);return c?c:(c=va.prototype.defProp.call(this,a,b),c.origin=this.origin,c.propagate(new na(this)),c)}return va.prototype.defProp.call(this,a,b)},getFunctionType:function(){return this},isArrowFn:function(){return this.originNode&&"ArrowFunctionExpression"==this.originNode.type}});var ya=a.Arr=function(a){va.call(this,Aa.protos.Array);var b=this.defProp("<i>");if(Array.isArray(a)){this.tuple=a.length;for(var c,d=0;d<a.length;d++)c=this.defProp(d+""),a[d].propagate(c),c.propagate(b)}else a&&(this.tuple=0,a.propagate(b))};ya.prototype=g(va.prototype,{constructor:ya,toString:function(a){if(null==a&&(a=0),-3>=a)return"[?]";var b="";if(this.tuple){for(var c,d,e=0;e in this.props;e++)d=Y(this.getProp(e+""),a-1,this),c=null==c?d:c==d&&d,b+=(b?", ":"")+d;c&&(b=c)}else b=Y(this.getProp("<i>"),a-1,this);return"["+b+"]"},normalizeIntegerProp:function(a){return+a<this.tuple?a:"<i>"}});var za=a.Sym=function(a,b){ua.call(this,Aa.protos.Symbol,"Symbol"),this.symName=a,this.originNode=b};za.prototype=g(ua.prototype,{constructor:za,asPropName:function(){return":"+this.symName},getSymbolType:function(){return this}}),a.getSymbol=function(a,b){var c=a.replace(/[^\w$\.]/g,"_"),d=Aa.symbols[c];return d?(b&&!d.originNode&&(d.originNode=b),d):Aa.symbols[c]=new za(c,b)},a.Context=function(b,c){this.parent=c,this.props=Object.create(null),this.protos=Object.create(null),this.origins=[],this.curOrigin="ecmascript",this.paths=Object.create(null),this.definitions=Object.create(null),this.purgeGen=0,this.workList=null,this.disabledComputing=null,this.curSuperCtor=this.curSuper=null,this.symbols=Object.create(null),a.withContext(this,function(){if(Aa.protos.Object=new va(null,"Object.prototype"),Aa.topScope=new Ea,Aa.topScope.name="<top>",Aa.protos.Array=new va(!0,"Array.prototype"),Aa.protos.Function=new xa("Function.prototype",Z,[],[],Z),Aa.protos.Function.proto=Aa.protos.Object,Aa.protos.RegExp=new va(!0,"RegExp.prototype"),Aa.protos.String=new va(!0,"String.prototype"),Aa.protos.Number=new va(!0,"Number.prototype"),Aa.protos.Boolean=new va(!0,"Boolean.prototype"),Aa.protos.Symbol=new va(!0,"Symbol.prototype"),Aa.str=new ua(Aa.protos.String,"string"),Aa.bool=new ua(Aa.protos.Boolean,"bool"),Aa.num=new ua(Aa.protos.Number,"number"),Aa.curOrigin=null,b)for(var a=0;a<b.length;++a)e.load(b[a])})},a.Context.prototype.startAnalysis=function(){this.disabledComputing=this.workList=this.curSuperCtor=this.curSuper=null};var Aa=null;a.cx=function(){return Aa},a.withContext=function(a,b){var c=Aa;Aa=a;try{return b()}finally{Aa=c}},a.TimedOut=function(){this.message="Timed out",this.stack=new Error().stack},a.TimedOut.prototype=Object.create(Error.prototype),a.TimedOut.prototype.name="infer.TimedOut";var Ba;a.withTimeout=function(a,b){var c=+new Date+a,d=Ba;if(d&&d<c)return b();Ba=c;try{return b()}finally{Ba=d}},a.addOrigin=function(a){0>Aa.origins.indexOf(a)&&Aa.origins.push(a)};var Ca=20,Da=1e-4,Ea=a.Scope=function(a,b,c,d){va.call(this,a||!0),this.prev=a,this.originNode=b,this.isBlock=!!c,this.isCatch=!!d};Ea.prototype=g(va.prototype,{constructor:Ea,defVar:function(a,b){for(var c,d=this;;d=d.proto){if(c=d.props[a],c)return c;if(!d.prev)return d.defProp(a,b)}}});var Fa={},Ga=a.scopeGatherer=d.make({VariablePattern:function(a,b){b.inner&&x(b.inner,a)},AssignmentPattern:function(a,b,d){d(a.left,b,"Pattern"),d(a.right,b.outer,"Expression")},AssignmentExpression:function(a,b,d){"MemberExpression"==a.left.type?d(a.left,b,"Expression"):d(a.left,A(!1,b),"Pattern"),d(a.right,b,"Expression")},MemberPattern:function(a,b,d){d(a,b.outer)},Function:function(a,b,d){for(var c,e=a.scope=new Ea(b,a),f=[],g=[],h=0;h<a.params.length;++h)if(c=a.params[h],g.push(y(c)),"Identifier"==c.type)f.push(x(e,c));else{var i=new ca;f.push(i),i.originNode=c,d(c,A(e),"Pattern")}if(e.fnType=new xa(a.id&&a.id.name,new ca(),f,g,Z,a.generator),e.fnType.originNode=a,a.id){var j="FunctionDeclaration"==a.type;x(j?b:e,a.id)}d(a.body,e,a.expression?"Expression":"Statement")},BlockStatement:function(a,b,e){!a.scope&&a.body.some(z)&&(b=a.scope=new Ea(b,a,!0)),d.base.BlockStatement(a,b,e)},CatchClause:function(a,b,d){if(b=a.scope=new Ea(b,a,!1,!0),"Identifier"==a.param.type){var c=x(b,a.param);d(a.body,b,"Statement");var e=Aa.definitions.ecmascript;e&&c.isEmpty()&&la(e["Error.prototype"]).propagate(c,6)}else d(a.param,A(b),"Pattern")},VariableDeclaration:function(a,b,d){for(var c,e="var"==a.kind?r(b):b,f=0;f<a.declarations.length;++f)c=a.declarations[f],d(c.id,A(e,b),"Pattern"),c.init&&d(c.init,b,"Expression")},ClassDeclaration:function(a,b,d){x(b,a.id),a.superClass&&d(a.superClass,b,"Expression");for(var c=0;c<a.body.body.length;c++)d(a.body.body[c],b)},ForInStatement:function(a,b,e){!a.scope&&z(a.left)&&(b=a.scope=new Ea(b,a,!0)),d.base.ForInStatement(a,b,e)},ForStatement:function(a,b,e){!a.scope&&a.init&&z(a.init)&&(b=a.scope=new Ea(b,a,!0)),d.base.ForStatement(a,b,e)},ImportDeclaration:function(a,b){for(var c=0;c<a.specifiers.length;c++)x(b,a.specifiers[c].local)}});Ga.ForOfStatement=Ga.ForInStatement;var Ha={BlockStatement:B,Function:B,CatchClause:B,ForInStateMent:B,ForStatement:B};a.clearScopes=function(a){d.simple(a,Ha)};var Ia=a.propName=function(a,b){var c=a.property||a.key;if(!a.computed&&"Identifier"==c.type)return c.name;if("Literal"==c.type){if("string"==typeof c.value)return c.value;if("number"==typeof c.value)return c.value+""}if(b){var d=C(Q(c,b));if(d)return a.propName=d}else if(a.propName)return a.propName;return"<i>"},Ja=a.inferPatternVisitor={Identifier:function(a,b,c){c.propagate(I(a,b))},MemberExpression:function(a,b,c){var d=Q(a.object,b),e=Ia(a,b);d.propagate(new ga(e,c,a.property))},RestElement:function(a,b,c){J(a.argument,b,new ya(c))},ObjectPattern:function(a,b,c){for(var d,e=0;e<a.properties.length;++e)d=a.properties[e],J(d.value,b,c.getProp(Ia(d)))},ArrayPattern:function(a,b,c){for(var d=0;d<a.elements.length;d++)a.elements[d]&&J(a.elements[d],b,c.getProp(d+""))},AssignmentPattern:function(a,b,c){J(a.left,b,G(c,Q(a.right,b)))}},Ka=a.inferExprVisitor={ArrayExpression:O(function(a,b){return N(a.elements,b,Q)}),ObjectExpression:O(function(a,b,c){for(var d,e,f=Aa.protos.Object,g=0;g<a.properties.length;++g)if(e=a.properties[g],"__proto__"==e.key.name)if("Literal"==e.value.type&&null==e.value.value)f=null;else{var h=Q(e.value,b),i=h.getObjType();i?f=i:d=h}var j=a.objType=new va(f,c);return d&&d.propagate(new ra(j)),j.originNode=a,q(null,d||f,function(){for(var c=0;c<a.properties.length;++c){var d=a.properties[c],e=d.key;if(!m(d.key.name)){var f,g=Ia(d,b);if("<i>"==g||"set"==d.kind)f=Z;else{var h=f=j.defProp(g,e);h.initializer=!0,"get"==d.kind&&(f=new ia(j,[],null,h))}Q(d.value,b,f,g),"FunctionExpression"==d.value.type&&d.value.scope.fnType.self.addType(j,ba)}}}),j}),FunctionExpression:O(function(a,b,c){var e=a.scope,f=e.fnType;return c&&!f.name&&(f.name=c),H(a,e),a.expression?Q(a.body,e,e.fnType.retval=new ca):d.recursive(a.body,e,null,La,"Statement"),"ArrowFunctionExpression"==a.type&&K(b).propagate(f.self),u(a,f)||w(f),a.id&&e.getProp(a.id.name).addType(f),f}),ClassExpression:O(M),SequenceExpression:O(function(a,b){for(var c=0,d=a.expressions.length-1;c<d;++c)Q(a.expressions[c],b,Z);return Q(a.expressions[d],b)}),UnaryExpression:O(function(a,b){return Q(a.argument,b,Z),D(a.operator)}),UpdateExpression:O(function(a,b){return Q(a.argument,b,Z),Aa.num}),BinaryExpression:O(function(a,b){if("+"==a.operator){var c=Q(a.left,b),d=Q(a.right,b);if(c.hasType(Aa.str)||d.hasType(Aa.str))return Aa.str;if(c.hasType(Aa.num)&&d.hasType(Aa.num))return Aa.num;var e=new ca;return c.propagate(new oa(d,e)),d.propagate(new oa(c,e)),e}return Q(a.left,b,Z),Q(a.right,b,Z),E(a.operator)?Aa.bool:Aa.num}),AssignmentExpression:O(function(a,b,c){var d,e;if("MemberExpression"==a.left.type?(e=Ia(a.left,b),!c&&(c="Identifier"==a.left.object.type?a.left.object.name+"."+e:e)):!c&&"Identifier"==a.left.type&&(c=a.left.name),a.operator&&"="!=a.operator&&"+="!=a.operator?(Q(a.right,b,Z),d=Aa.num):d=Q(a.right,b,null,c),"MemberExpression"==a.left.type){var f=Q(a.left.object,b);if("prototype"==e&&s(b,20),"<i>"==e){var g=a.left.property.name,h=b.props[g],i=h&&h.iteratesOver;if(i){s(b,20);var j="MemberExpression"==a.right.type&&a.right.computed&&a.right.property.name==g;return i.forAllProps(function(a,b,c){c&&"prototype"!=a&&"<i>"!=a&&f.propagate(new ga(a,j?b:Z))}),d}}f.propagate(new ga(e,d,a.left.property)),L(f),"FunctionExpression"==a.right.type&&f.propagate(a.right.scope.fnType.self,ba)}else J(a.left,b,d);return d}),LogicalExpression:P(function(a,b,c){Q(a.left,b,c),Q(a.right,b,c)}),ConditionalExpression:P(function(a,b,c){Q(a.test,b,Z),Q(a.consequent,b,c),Q(a.alternate,b,c)}),NewExpression:P(function(a,b,c,d){"Identifier"==a.callee.type&&a.callee.name in b.props&&s(b,20);for(var e=0,f=[];e<a.arguments.length;++e)f.push(Q(a.arguments[e],b));var g=Q(a.callee,b),h=new ca;g.propagate(new ka(h,d&&/\.prototype$/.test(d))),h.propagate(c,_),g.propagate(new ia(h,f,a.arguments,new pa(c)))}),CallExpression:P(function(a,b,c){for(var d=0,e=[];d<a.arguments.length;++d)e.push(Q(a.arguments[d],b));var f=r(b).fnType;if("MemberExpression"==a.callee.type){var g=Q(a.callee.object,b),h=Ia(a.callee,b);f&&("call"==h||"apply"==h)&&-1<f.args.indexOf(g)&&s(b,30),g.propagate(new ja(h,e,a.arguments,c))}else if("Super"==a.callee.type&&Aa.curSuperCtor)a.callee.superType=Aa.curSuperCtor,Aa.curSuperCtor.propagate(new ia(K(b),e,a.arguments,c)),K(b).propagate(c,_);else{var i=Q(a.callee,b);f&&-1<f.args.indexOf(i)&&s(b,30);var j=i.getFunctionType();j&&j.instantiateScore&&f&&s(b,j.instantiateScore/5),i.propagate(new ia(Aa.topScope,e,a.arguments,c))}}),MemberExpression:P(function(a,b,c){var d,e=Ia(a);if("<i>"==e){var f=Q(a.property,b),g=C(f);g?e=a.propName=g:!f.hasType(Aa.num)&&(d=6)}Q(a.object,b).getProp(e).propagate(c,d)}),Identifier:O(function(a,b){if("arguments"==a.name){var c=r(b,!1);c.fnType&&!(a.name in c.props)&&c.defProp(a.name,c.fnType.originNode).addType(new ya(c.fnType.arguments=new ca))}return b.getProp(a.name)}),ThisExpression:O(function(a,b){return K(b)}),Super:O(function(a){return a.superType=Aa.curSuper||Z}),Literal:O(function(a){return F(a)}),TemplateLiteral:O(function(a,b){for(var c=0;c<a.expressions.length;++c)Q(a.expressions[c],b,Z);return Aa.str}),TaggedTemplateExpression:P(function(a,b,c){for(var d=[new ya(Aa.str)],e=0;e<a.quasi.expressions.length;++e)d.push(Q(a.quasi.expressions[e],b));Q(a.tag,b,new ia(Aa.topScope,d,a.quasi.expressions,c))}),YieldExpression:O(function(a,b){var c=Z,d=r(b).fnType;return d&&(d.retval==Z&&(d.retval=new ca),!d.yieldval&&(d.yieldval=new ca),c=d.retval),a.argument&&(a.delegate?Q(a.argument,b,new ja("next",[],null,new fa("value",c))):Q(a.argument,b,c)),d?d.yieldval:Z})};Ka.ArrowFunctionExpression=Ka.FunctionExpression;var La=a.inferWrapper=d.make({Expression:function(a,b){Q(a,a.scope||b,Z)},FunctionDeclaration:function(a,b,d){var c=a.scope,e=c.fnType;H(a,c),d(a.body,c,"Statement"),u(a,e)||w(e),b.getProp(a.id.name).addType(e)},Statement:function(a,b,d){d(a,a.scope||b)},VariableDeclaration:function(a,b){for(var c,d=0;d<a.declarations.length;++d)if(c=a.declarations[d],"Identifier"==c.id.type){var e=b.getProp(c.id.name);c.init&&Q(c.init,b,e,c.id.name)}else c.init&&J(c.id,b,Q(c.init,b))},ClassDeclaration:function(a,b){b.getProp(a.id.name).addType(M(a,b,a.id.name))},ReturnStatement:function(a,b){if(a.argument){var c=Z,d=r(b).fnType;d&&(d.retval==Z&&(d.retval=new ca),c=d.retval),Q(a.argument,b,c)}},ForInStatement:function(a,b,d){var c=Q(a.right,b);if("Identifier"==a.right.type&&a.right.name in b.props||"MemberExpression"==a.right.type&&"prototype"==a.right.property.name){s(b,5);var e=R(a.left);"Identifier"==e.type?(e.name in b.props&&(b.getProp(e.name).iteratesOver=c),c.getProp("<i>").propagate(I(e,b))):J(e,b,c.getProp("<i>"))}d(a.body,b,"Statement")},ForOfStatement:function(a,b,d){var c,e=R(a.left);"Identifier"==e.type?c=I(e,b):J(e,b,c=new ca),Q(a.right,b,new ja(":Symbol.iterator",[],null,new ja("next",[],null,new fa("value",c)))),d(a.body,b,"Statement")}}),Ma=a.parse=function(a,d,e){(!d||Array.isArray(d))&&(d=e);var f;try{f=b.parse(a,d)}catch(b){f=c.parse_dammit(a,d)}return f};a.analyze=function(b,c,e){"string"==typeof b&&(b=Ma(b)),c||(c="file#"+Aa.origins.length),a.addOrigin(Aa.curOrigin=c),e||(e=Aa.topScope),Aa.startAnalysis(),d.recursive(b,e,null,Ga),Aa.parent&&Aa.parent.signal("preInfer",b,e),d.recursive(b,e,null,La),Aa.parent&&Aa.parent.signal("postInfer",b,e),Aa.curOrigin=null},a.purge=function(a,b,c){var d=S(a,b,c);for(var e in++Aa.purgeGen,Aa.topScope.purge(d),Aa.props){for(var f=Aa.props[e],g=0;g<f.length;++g){var h=f[g],i=h.props[e];(!i||d(i,i.originNode))&&f.splice(g--,1)}f.length||delete Aa.props[e]}},ca.prototype.purge=function(a){if(this.purgeGen!=Aa.purgeGen){this.purgeGen=Aa.purgeGen;for(var b,c=0;c<this.types.length;++c)b=this.types[c],a(b,b.originNode)?this.types.splice(c--,1):b.purge(a);if(this.types.length||(this.maxWeight=0),this.forward)for(var d,c=0;c<this.forward.length;++c)d=this.forward[c],a(d)?(this.forward.splice(c--,1),this.props&&(this.props=null)):d.purge&&d.purge(a)}},Z.purge=function(){},va.prototype.purge=function(a){if(this.purgeGen==Aa.purgeGen)return!0;for(var b in this.purgeGen=Aa.purgeGen,this.props){var c=this.props[b];a(c,c.originNode)&&this.removeProp(b),c.purge(a)}},xa.prototype.purge=function(a){if(!va.prototype.purge.call(this,a)){this.self.purge(a),this.retval.purge(a);for(var b=0;b<this.args.length;++b)this.args[b].purge(a)}};var Na=a.typeFinder={ArrayExpression:function(a,b){return N(a.elements,b,X)},ObjectExpression:function(a){return a.objType},ClassExpression:function(a){return a.objType},FunctionExpression:function(a){return a.scope.fnType},ArrowFunctionExpression:function(a){return a.scope.fnType},SequenceExpression:function(a,b){return X(a.expressions[a.expressions.length-1],b)},UnaryExpression:function(a){return D(a.operator)},UpdateExpression:function(){return Aa.num},BinaryExpression:function(a,b){if(E(a.operator))return Aa.bool;if("+"==a.operator){var c=X(a.left,b),d=X(a.right,b);if(c.hasType(Aa.str)||d.hasType(Aa.str))return Aa.str}return Aa.num},AssignmentExpression:function(a,b){return X(a.right,b)},LogicalExpression:function(a,b){var c=X(a.left,b);return c.isEmpty()?X(a.right,b):c},ConditionalExpression:function(a,b){var c=X(a.consequent,b);return c.isEmpty()?X(a.alternate,b):c},NewExpression:function(a,b){var c=X(a.callee,b).getFunctionType(),d=c&&c.getProp("prototype").getObjType();return d?la(d,c):Z},CallExpression:function(a,b){return W(a.callee,a.arguments,b)},MemberExpression:function(a,b){var c=Ia(a),d=X(a.object,b).getType();return d?d.getProp(c):"<i>"==c?Z:T(c)},MethodDefinition:function(a){var b=Ia(a),c=K(a.value.scope).getType();return c?c.getProp(b):Z},Identifier:function(a,b){return b.hasProp(a.name)||Z},ThisExpression:function(a,b){return K(b)},Literal:function(a){return F(a)},Super:O(function(a){return a.superType}),TemplateLiteral:function(){return Aa.str},TaggedTemplateExpression:function(a,b){return W(a.tag,a.quasi.expressions,b)},YieldExpression:function(a,b){var c=r(b).fnType;return c?c.yieldval:Z}},Oa=a.searchVisitor=d.make({Function:function(a,b,e){d.base.Function(a,a.scope,e)},CatchClause:function(a,b,e){d.base.CatchClause(a,a.scope,e)},Property:function(a,b,d){a.computed&&d(a.key,b,"Expression"),a.key!=a.value&&d(a.value,b,"Expression")},Statement:function(a,b,d){d(a,a.scope||b)},ImportSpecifier:function(a,b,d){d(a.local,b)},ImportDefaultSpecifier:function(a,b,d){d(a.local,b)},ImportNamespaceSpecifier:function(a,b,d){d(a.local,b)}});a.fullVisitor=d.make({MemberExpression:function(a,b,d){d(a.object,b,"Expression"),d(a.property,b,a.computed?"Expression":null)},Property:function(a,b,d){a.computed&&d(a.key,b,"Expression"),d(a.value,b,"Expression")}},Oa),a.findExpressionAt=function(a,b,c,e,f){return d.findNodeAt(a,b,c,f||function(a,b){return"Identifier"==b.type&&"\u2716"==b.name?!1:Na.hasOwnProperty(b.type)},Oa,e||Aa.topScope)},a.findExpressionAround=function(a,b,c,e,f){return d.findNodeAround(a,c,f||function(a,c){return null!=b&&c.start>b?!1:"Identifier"==c.type&&"\u2716"==c.name?!1:Na.hasOwnProperty(c.type)},Oa,e||Aa.topScope)},a.expressionType=function(a){return X(a.node,a.state)},a.parentNode=function(a,b){function e(b,f,g){if(b.start<=a.start&&b.end>=a.end){var h=c[c.length-1];if(b==a)throw{found:h};h!=b&&c.push(b),d.base[g||b.type](b,f,e),h!=b&&c.pop()}}var c=[];try{e(b,null)}catch(a){if(a.found)return a.found;throw a}};var Pa=a.findTypeFromContext={ArrayExpression:function(a,b,c){return c(a,!0).getProp("<i>")},ObjectExpression:function(a,b,c){for(var d,e=0;e<a.properties.length;++e)if(d=b.properties[e],d.value==b)return c(a,!0).getProp(Ia(d))},UnaryExpression:function(a){return D(a.operator)},UpdateExpression:function(){return Aa.num},BinaryExpression:function(a){return E(a.operator)?Aa.bool:Aa.num},AssignmentExpression:function(a,b,c){return c(a.left)},LogicalExpression:function(a,b,c){return c(a,!0)},ConditionalExpression:function(a,b,c){if(a.consequent==b||a.alternate==b)return c(a,!0)},CallExpression:function(a,b,c){for(var d,e=0;e<a.arguments.length;e++)if(d=a.arguments[e],d==b){var f=c(a.callee).getFunctionType();if(f instanceof xa)return f.args[e];break}},ReturnStatement:function(a,b,c){var e=d.findNodeAround(b.sourceFile.ast,b.start-1,"Function");if(e){var f="FunctionDeclaration"==e.node.type?e.node.scope.fnType:c(e.node,!0).getFunctionType();if(f)return f.retval.getType()}},VariableDeclarator:function(a,b,c){if(a.init==b)return c(a.id)}};Pa.NewExpression=Pa.CallExpression,a.typeFromContext=function(b,c){var d=a.parentNode(c.node,b),e=null;if(Pa.hasOwnProperty(d.type)){var f=Pa[d.type];e=f&&f(d,c.node,function(d,e){var f={node:d,state:c.state},g=e?a.typeFromContext(b,f):a.expressionType(f);return g||Z})}return e||a.expressionType(c)};var Qa=!1;a.resetGuessing=function(a){Qa=a},a.didGuess=function(){return Qa},a.forAllPropertiesOf=function(a,b){a.gatherProperties(b,0)},a.findRefs=function(b,c,e,g,h){function f(a,c,d){if(a.name==e&&(a!=b.id||"FunctionDeclaration"!=b.type))for(var f=c;f;f=f.prev)if(f==g&&h(a,c,d),e in f.props)return}d.ancestor(b,{Identifier:f,VariablePattern:f},a.fullVisitor,c)};var Ra=d.make({Function:function(a,b,d){d(a.body,a.scope,a.expression?"Expression":"Statement")},Statement:function(a,b,d){d(a,a.scope||b)}});a.findPropRefs=function(a,b,c,e,g){function f(a){for(;a&&a!=c;){if(a.props[e]||a.maybeProps&&a.maybeProps[e])return!1;a=a.proto}return a}for(;c&&!c.props[e]&&!(c.maybeProps&&c.maybeProps[e]);)c=c.proto;if(!c)throw new Error("Couldn't locate property in the base object type.");d.simple(a,{MemberExpression:function(a,b){a.computed||Ia(a)!=e||f(X(a.object,b).getType())&&g(a.property,b)},ObjectExpression:function(a,b){if(X(a,b).getType()==c)for(var d=0;d<a.properties.length;++d)Ia(a.properties[d])==e&&g(a.properties[d].key,b)},MethodDefinition:function(a){Ia(a)!=e||a.value&&f(K(a.value.scope).getType())&&g(a.key,a.value.scope)}},Ra,b)};var Sa=a.scopeAt=function(a,b,c){var e=d.findNodeAround(a,b,function(a,b){return b.scope});return e?e.node.scope:c||Aa.topScope};a.forAllLocalsAt=function(a,b,c,d){var e=Sa(a,b,c);e.gatherProperties(d,0)},e=a.def=e.init({},a)});